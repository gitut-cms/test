/* templates/static/style.css - Casper-Inspired Theme */
:root {
    /* --- Fonts --- */
    /* Common serif stack (adjust as needed, ensure availability) */
    --font-serif: Georgia, Times, "Times New Roman", serif;
    /* Clean sans-serif stack */
    --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    /* Monospace for code */
    --font-mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;

    /* --- Colors --- */
    --color-primary: #333;        /* Primary text color */
    --color-secondary: #666;      /* Secondary text (meta, etc.) */
    --color-background: #ffffff;  /* Site background */
    --color-accent: #007bff;       /* Link color (can adjust) */
    --color-accent-hover: #0056b3; /* Link hover color */
    --color-border: #eee;         /* Subtle borders */
    --color-bg-alt: #f8f8f8;       /* Subtle background for code/quotes */

    /* --- Layout --- */
    --content-width: 720px; /* Typical reading width */
    --content-width-wide: 1040px; /* For elements that can stretch more */
    --spacing: 1.75rem; /* Base spacing unit (approx 28px) */
}

/* --- Base & Reset --- */
*, *::before, *::after {
    box-sizing: border-box;
}

html {
    font-size: 100%; /* Usually 16px */
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-sans);
    font-size: 1.1rem; /* Slightly larger base size */
    line-height: 1.7;
    color: var(--color-primary);
    background-color: var(--color-background);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* --- RTL Base --- */
html[dir="rtl"] body {
    text-align: right;
}

/* --- Links --- */
a {
    color: var(--color-accent);
    text-decoration: none;
}
a:hover {
    color: var(--color-accent-hover);
    text-decoration: underline;
}

/* --- Typography --- */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    font-weight: 700;
    line-height: 1.2;
    margin-top: calc(var(--spacing) * 1.5);
    margin-bottom: calc(var(--spacing) * 0.75);
    color: var(--color-primary); /* Ensure headings are primary color */
}

h1 { font-size: 2.8rem; }
h2 { font-size: 2.2rem; }
h3 { font-size: 1.8rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }

p {
    margin-top: 0;
    margin-bottom: var(--spacing);
}

img, figure {
    margin: 0;
    padding: 0;
    max-width: 100%;
    height: auto;
    vertical-align: middle;
}
figure {
    margin-bottom: var(--spacing);
}


/* --- Site Header --- */
.site-header-container { /* Wrapper to center header content */
    max-width: var(--content-width-wide);
    margin: 0 auto;
    padding: 0 var(--spacing);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header.main-header {
    padding: calc(var(--spacing) * 0.75) 0;
    border-bottom: 1px solid var(--color-border);
    margin-bottom: var(--spacing); /* Space below header */
    background-color: var(--color-background); /* Ensure background */
}

header .blog-title a {
    color: var(--color-primary); /* Dark text */
    font-size: 1.5rem;
    font-weight: bold;
    text-decoration: none;
    font-family: var(--font-serif); /* Title often serif */
}
header .blog-title a:hover {
    color: var(--color-accent);
    text-decoration: none;
}

header nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
}

header nav li {
    margin-left: var(--spacing); /* LTR */
}
html[dir="rtl"] header nav li {
    margin-left: 0;
    margin-right: var(--spacing); /* RTL */
}

header nav a {
    color: var(--color-secondary); /* Subtler nav link color */
    text-decoration: none;
    font-size: 1rem;
    font-weight: 500;
}
header nav a:hover {
    color: var(--color-primary);
    text-decoration: none;
}


/* --- Main Content Area --- */
main {
    flex-grow: 1;
    width: 100%;
}

.content-container { /* Wrapper for centered content */
    max-width: var(--content-width);
    margin: 0 auto;
    padding: var(--spacing);
}

/* --- Index Page - Post List --- */
.post-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.post-list-item {
    padding: var(--spacing) 0; /* Vertical space */
    border-bottom: 1px solid var(--color-border); /* Separator */
    margin: 0; /* Reset margin */
}
/* Remove border from the last item */
.post-list-item:last-child {
    border-bottom: none;
}

html[dir="rtl"] .post-list-item {
    text-align: right; /* Ensure item content aligns right */
}

/* Post title on index */
.post-list-item h2 {
    margin: 0 0 calc(var(--spacing) * 0.3); /* Less space below title */
    font-size: 1.8rem; /* Slightly smaller than post title */
}
.post-list-item h2 a {
    color: var(--color-primary);
}
.post-list-item h2 a:hover {
    color: var(--color-accent);
    text-decoration: none;
}

/* Meta data on index */
.post-meta {
    color: var(--color-secondary);
    font-size: 0.9rem;
    margin-bottom: calc(var(--spacing) * 0.5);
    display: block; /* Make it a block for spacing */
}
html[dir="rtl"] .post-meta {
    text-align: right;
}

/* Casper often has image above title on index, but difficult with current HTML.
   Let's keep the thumbnail simple if present. */
.post-list-item img.thumbnail {
    display: block; /* Don't float */
    max-width: 100%; /* Can be wider now */
    height: auto;
    border-radius: 3px;
    margin-bottom: calc(var(--spacing) * 0.5); /* Space below image */
}

/* Optional: Add excerpt styling if you add excerpts later */
.post-excerpt p {
    margin-bottom: 0;
    color: var(--color-secondary);
    font-size: 1rem;
    line-height: 1.6;
}

/* --- Single Post Page --- */
.post-full article {
    /* Article itself doesn't need padding if content-container handles it */
    padding-bottom: 0; /* Remove extra padding */
    border-bottom: none; /* Remove extra border */
    margin-bottom: var(--spacing); /* Space below article before related posts */
}

/* Very large post title */
.post-full h1 {
    font-size: 3rem; /* Large title */
    margin-bottom: calc(var(--spacing) * 0.5);
    line-height: 1.1;
    text-align: center; /* Casper often centers titles */
}

.post-full .post-meta {
    text-align: center; /* Center meta below title */
    margin-bottom: var(--spacing); /* More space after meta */
    font-size: 0.9rem;
}

/* Featured image styling */
.post-full .featured-image {
    margin: var(--spacing) auto; /* Center block element */
    display: block;
    max-width: var(--content-width-wide); /* Allow image to be wider */
    width: 100%; /* Take available width up to max */
    border-radius: 3px;
}
.post-full .featured-image img {
    display: block; /* Ensure img is block inside figure */
    border-radius: 3px;
}


/* Main post content styling */
.post-content {
    font-size: 1.1rem; /* Reiterate body font size */
    line-height: 1.7;
}

/* Ensure images within content respect content width */
.post-content img,
.post-content .kg-image-card img { /* Common class from Ghost/editors */
    display: block;
    margin: calc(var(--spacing) * 1.2) auto; /* More vertical space, centered */
    max-width: 100%; /* Ensure responsiveness */
    height: auto;
    border-radius: 3px;
}
/* Allow wider images if needed (add a class in HTML/Markdown if possible) */
.post-content .kg-width-wide img {
    max-width: var(--content-width-wide);
}
.post-content .kg-width-full img {
    max-width: 100vw; /* Full bleed - complex, needs careful handling */
    width: 100vw;
    margin-left: 50%;
    transform: translateX(-50%);
    border-radius: 0;
}


.post-content blockquote {
    margin: calc(var(--spacing) * 1.5) 0;
    padding: 0 0 0 calc(var(--spacing) * 1.2); /* Padding left (LTR) */
    border-left: 3px solid var(--color-accent); /* Accent border */
    font-size: 1.2rem;
    font-style: italic;
    color: var(--color-secondary);
    background-color: transparent; /* No background */
}
html[dir="rtl"] .post-content blockquote {
    padding: 0 calc(var(--spacing) * 1.2) 0 0; /* Padding right (RTL) */
    border-left: none;
    border-right: 3px solid var(--color-accent);
}

.post-content pre {
    margin: calc(var(--spacing) * 1.5) 0;
    padding: var(--spacing);
    background-color: var(--color-bg-alt); /* Subtle background */
    border-radius: 4px;
    overflow-x: auto; /* Handle long code lines */
    font-family: var(--font-mono);
    font-size: 0.95rem;
    line-height: 1.5;
    white-space: pre; /* Preserve whitespace */
}
.post-content code {
    font-family: var(--font-mono);
    font-size: 0.9em; /* Slightly smaller inline code */
    background-color: var(--color-bg-alt);
    padding: 0.1em 0.3em;
    border-radius: 3px;
}
.post-content pre code { /* Code inside pre shouldn't have extra style */
    background: none;
    padding: 0;
    font-size: inherit;
}


/* --- Related Posts --- */
.related-posts {
    margin-top: calc(var(--spacing) * 2);
    padding-top: calc(var(--spacing) * 1.5);
    border-top: 1px solid var(--color-border);
}
.related-posts h3 {
    text-align: center; /* Center title */
    font-size: 1.4rem;
    margin-bottom: var(--spacing);
    color: var(--color-secondary);
    font-weight: 500; /* Less bold */
}
.related-posts ul {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive grid */
    gap: var(--spacing);
}
.related-posts li {
    padding: 0; /* Remove padding */
    background: none; /* Remove background */
    border: none; /* Remove border */
    font-size: 1rem;
    text-align: center;
}
.related-posts li a {
    font-family: var(--font-serif);
    font-weight: bold;
    color: var(--color-primary);
}
.related-posts li a:hover {
    color: var(--color-accent);
}


/* --- Site Footer --- */
footer.main-footer {
    padding: calc(var(--spacing) * 1.5) var(--spacing);
    margin-top: calc(var(--spacing) * 2);
    border-top: 1px solid var(--color-border);
    color: var(--color-secondary);
    text-align: center;
    font-size: 0.9rem;
    background-color: transparent; /* No background */
}
footer.main-footer a {
    color: var(--color-secondary);
    text-decoration: underline;
}
footer.main-footer a:hover {
    color: var(--color-primary);
}

/* --- Responsive --- */
@media (max-width: 768px) {
    :root {
        --content-width: 90%; /* Use percentage for smaller screens */
        --spacing: 1.5rem; /* Slightly reduce spacing */
    }
    html {
        font-size: 95%; /* Slightly smaller base font */
    }
    h1 { font-size: 2.4rem; }
    h2 { font-size: 2rem; }
    h3 { font-size: 1.6rem; }
    .post-full h1 { font-size: 2.5rem; }

    .site-header-container {
        flex-direction: column;
        text-align: center;
    }
    header .blog-title {
        margin-bottom: calc(var(--spacing) * 0.5);
    }
    header nav ul {
        justify-content: center;
    }
    header nav li {
        margin: 0 calc(var(--spacing) * 0.5); /* Adjust nav spacing */
    }
    html[dir="rtl"] header nav li {
        margin: 0 calc(var(--spacing) * 0.5);
    }

    .content-container {
         max-width: none; /* Remove max-width */
         width: 100%; /* Take full width */
         padding: 0 var(--spacing); /* Maintain side padding */
    }
     /* Allow featured images to be full width within the padding */
    .post-full .featured-image {
         max-width: 100%;
         margin-left: calc(-1 * var(--spacing));
         margin-right: calc(-1 * var(--spacing));
         border-radius: 0;
     }
     .post-full .featured-image img {
         border-radius: 0;
     }

     .related-posts ul {
        grid-template-columns: 1fr; /* Stack related posts */
    }
}

@media (max-width: 480px) {
     :root {
        --spacing: 1.2rem;
    }
    html {
        font-size: 90%;
    }
    h1 { font-size: 2rem; }
    h2 { font-size: 1.7rem; }
    h3 { font-size: 1.4rem; }
    .post-full h1 { font-size: 2.1rem; }
    body { font-size: 1rem; } /* Reset body font-size */
    .post-content { font-size: 1rem; }
}