RewriteEngine On

# Serve existing directories directly
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Rewrite requests for paths without extensions to .html if the file exists
RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI}.html -f
RewriteRule ^(.+?)/?$ $1.html [L]

# Redirect requests for .html files to the version without .html (for SEO)
RewriteCond %{THE_REQUEST} ^[A-Z]+\ /([^?\ ]+)\.html([?#][^\ ]*)?\ HTTP/
RewriteRule ^(.+)\.html$ /$1 [R=301,L]
